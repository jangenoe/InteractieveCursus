(self.webpackChunkjupyterlab_myst=self.webpackChunkjupyterlab_myst||[]).push([[658],{658:(e,t,r)=>{"use strict";function n(e){e.block.ruler.before("blockquote","myst_line_comment",s,{alt:["paragraph","reference","blockquote","list","footnote_def"]}),e.block.ruler.before("hr","myst_block_break",c,{alt:["paragraph","reference","blockquote","list","footnote_def"]}),e.block.ruler.before("hr","myst_target",l,{alt:["paragraph","reference","blockquote","list","footnote_def"]}),e.renderer.rules.myst_line_comment=a,e.renderer.rules.myst_target=i}function s(e,t,r,n){let s=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if("%"!==e.src[s])return!1;if(n)return!0;const o=e.push("myst_line_comment","",0);let l;for(o.attrSet("class","myst-line-comment"),o.content=e.src.slice(s+1,c).replace(/\s+$/gm,""),o.markup="%",l=t+1;l<r&&(s=e.bMarks[l]+e.tShift[l],c=e.eMarks[l],"%"===e.src[s]);l++)o.content+="\n"+e.src.slice(s+1,c).replace(/\s+$/gm,"");return e.line=l,o.map=[t,l],!0}function c(e,t,r,n){let s=e.bMarks[t]+e.tShift[t];const c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.src.charCodeAt(s);if(s+=1,43!==o)return!1;let l=1;for(;s<c;){const t=e.src.charCodeAt(s);if(t!==o&&!e.md.utils.isSpace(t))break;t===o&&(l+=1),s+=1}if(l<3)return!1;if(n)return!0;e.line=t+1;const a=e.push("myst_block_break","hr",0);return a.attrSet("class","myst-block"),a.content=e.src.slice(s,c).trim(),a.map=[t,e.line],a.markup=e.md.utils.fromCodePoint(o).repeat(l),!0}r.r(t),r.d(t,{colonFencePlugin:()=>u,mystBlockPlugin:()=>n});const o=/^\((?<label>[a-zA-Z0-9|@<>*./_\-+:]{1,100})\)=\s*$/;function l(e,t,r,n){const s=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;const l=o.exec(e.src.slice(s,c));if(!l)return!1;if(n)return!0;e.line=t+1;const a=e.push("myst_target","",0);return a.attrSet("class","myst-target"),a.content=l&&l.groups?l.groups.label:"",a.map=[t,e.line],!0}function a(e,t){return`\x3c!-- ${(r=e[t].content,r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")).trim()} --\x3e`;var r}function i(e,t){const r=e[t].content;return`<div class="myst-target"><a href="#${r}">(${r})=</a></div>`}function u(e){e.block.ruler.before("fence","colon_fence",f,{alt:["paragraph","reference","blockquote","list","footnote_def"]})}function f(e,t,r,n){let s=!1,c=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(c+3>o)return!1;const l=e.src.charCodeAt(c);if(58!==l)return!1;let a=c;c=e.skipChars(c,l);let i=c-a;if(i<3)return!1;const u=e.src.slice(a,c),f=e.src.slice(c,o);if(n)return!0;let k=t;for(;k++,!(k>=r||(c=a=e.bMarks[k]+e.tShift[k],o=e.eMarks[k],c<o&&e.sCount[k]<e.blkIndent));)if(e.src.charCodeAt(c)===l&&!(e.sCount[k]-e.blkIndent>=4||(c=e.skipChars(c,l),c-a<i||(c=e.skipSpaces(c),c<o)))){s=!0;break}i=e.sCount[t],e.line=k+(s?1:0);const p=e.push("fence","code",0);return p.info=f,p.content=e.getLines(t+1,k,i,!0),p.markup=u,p.map=[t,e.line],!0}}}]);