"use strict";(self.webpackChunkjupyterlab_myst=self.webpackChunkjupyterlab_myst||[]).push([[7492],{97492:(e,t,r)=>{r.r(t),r.d(t,{cardDirective:()=>o,splitParagraphNode:()=>n});const a=/((?<before>[\s\S]*?)\s+){0,1}\^\^\^(\s+(?<after>[\s\S]*)){0,1}/,o={name:"card",alias:["grid-item-card"],arg:{type:"myst",doc:"The title of the card, usually shown as bolded text at the top of the card."},options:{url:{type:String,alias:["link"],doc:"Turns the card into a link, can be internal or external."},header:{type:"myst",doc:"Adds a header to the card."},footer:{type:"myst",doc:"Adds a footer to the card."}},body:{type:"myst",required:!0,doc:"Main body content of the card."},run(e){const{url:t,header:r,footer:a}=e.options||{};let o,s,l;if(r||a)o=r?[{type:"paragraph",children:r}]:[],s=e.body,l=a?[{type:"paragraph",children:a}]:[];else{const[t,r]=function(e){const t=[],r=[];let a=!1;return e.forEach(e=>{if(a)r.push(e);else if("paragraph"!==e.type)t.push(e);else{const o=n(e),{before:s,after:l}=o;a=o.post,s&&t.push(s),l&&r.push(l)}}),[t,r]}(e.body);o=r.length?t:[];const a=r.length?r:t;[s,l]=function(e){const t=[],r=[];let a=!1;return e.forEach(e=>{a?r.push(e):"blockBreak"!==e.type?t.push(e):a=!0}),[t,r]}(a)}const h=[];return o.length&&h.push({type:"header",children:o}),e.arg&&h.push({type:"cardTitle",children:e.arg}),h.push(...s),l.length&&h.push({type:"footer",children:l}),[{type:"card",url:t,children:h}]}};function n(e){var t;const r=[],o=[];let n=!1;return null===(t=e.children)||void 0===t||t.forEach(e=>{var t;if(n)return void o.push(e);if("text"!==e.type||!e.value)return void r.push(e);const s=e.value,l=a.exec(s);if(!l)return void r.push(e);n=!0;const{before:h,after:c}=null!==(t=l.groups)&&void 0!==t?t:{};h&&r.push({type:"text",value:h}),c&&o.push({type:"text",value:c})}),{before:r.length?{...e,children:r}:null,after:o.length?{...e,children:o}:null,post:n}}}}]);