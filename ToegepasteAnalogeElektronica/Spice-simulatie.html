
<!DOCTYPE html>


<html lang="nl" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Spice simulatie" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://jangenoe.github.io/jangenoe/InteractieveCursus/ToegepasteAnalogeElektronica/Spice-simulatie.html" />
<meta property="og:site_name" content="Project name not set" />
<meta property="og:description" content="In deze cursus bestuderen we elektronische circuits. Hiervoor is het belangrijk dat we deze elektronische circuits ook in detail en correct kunnen simuleren. Hiervoor gebruiken we een implementatie..." />
<meta property="og:image" content="https://jangenoe.github.io/InteractieveCursus/ToegepasteAnalogeElektronica/_static/logo.svg" />
<meta property="og:image:alt" content="Project name not set" />
<meta name="description" content="In deze cursus bestuderen we elektronische circuits. Hiervoor is het belangrijk dat we deze elektronische circuits ook in detail en correct kunnen simuleren. Hiervoor gebruiken we een implementatie..." />

    <title>Spice simulatie &#8212; Toegepaste Analoge Elektronica</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=d8f3a918" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/spice_file.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=b028fc25"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=95f79089"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/translations.js?v=5ce3cdba"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Spice-simulatie';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Zoeken" href="search.html" />
    <link rel="next" title="Klasse C Versterkers" href="Klasse-C.html" />
    <link rel="prev" title="Toegepaste Analoge Elektronica" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="nl"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Toegepaste Analoge Elektronica - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Toegepaste Analoge Elektronica - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Zoeken" aria-label="Zoeken" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Zoeken</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Toegepaste Analoge Elektronica
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Inleiding</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Spice simulatie</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Versterkers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Klasse-C.html">Klasse C  Versterkers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Klasse-F.html">Klasse F Verstekers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Klasse-D.html">Klasse D resonante Versterkers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Klasse-E.html">Klasse E  Versterkers</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Filters</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Filters.html">Filter Design</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Transmissielijnen</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="transmissielijn.html">Transmissie lijnen</a></li>


<li class="toctree-l1"><a class="reference internal" href="reflecties.html">Reflecties</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="SmithKaart.html">Smith kaart</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening1.html">Smith Kaart Oefening 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening2.html">Smith Kaart Oefening 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening3.html">Smith Kaart Oefening 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening4.html">Smith Kaart Oefening 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening5.html">Smith Kaart Oefening 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening6.html">Smith Kaart Oefening 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening7.html">Smith Kaart Oefening 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmithKaartOefening8.html">Smith Kaart Oefening 8</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="References.html">Referenties</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Overzicht</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://jangenoe.github.io/InteractieveCursus/ToegepasteAnalogeElektronica/ToegepasteAnalogeElektronica.pdf">PDF versie van deze cursus</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jangenoe.github.io/InteractieveCursus/intro.html">Lijst cursussen</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.kuleuven.be/wieiswie/en/person/00004269">Auteur Jan Genoe</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
        <div class="header-article-item"><div class="article-header-languages">

</div></div>
      
        <div class="header-article-item"><div class="article-header-versions">

</div></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/jangenoe/InteractieveCursus/master?urlpath=lab/tree/ToegepasteAnalogeElektronica/Spice-simulatie.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/jangenoe/InteractieveCursus/blob/master/ToegepasteAnalogeElektronica/Spice-simulatie.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li><a href="./slides/Spice-simulatie.slides.html" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Reveal.js"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Reveal.js logo" src="_static/images/Logo_revealjs.png">
  </span>
<span class="btn__text-container">Reveal.js</span>
</a>
</li>
      
      
      
      
      <li><a href="./PowerPoint/Spice-simulatie.pptx" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on PowerPoint"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="PowerPoint logo" src="_static/images/PowerPoint.svg">
  </span>
<span class="btn__text-container">PowerPoint</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jangenoe/InteractieveCursus" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jangenoe/InteractieveCursus/edit/master/ToegepasteAnalogeElektronica/Spice-simulatie.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jangenoe/InteractieveCursus/issues/new?title=Issue%20on%20page%20%2FSpice-simulatie.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Spice-simulatie.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Zoeken" aria-label="Zoeken" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Spice simulatie</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="spice-simulatie">
<h1>Spice simulatie<a class="headerlink" href="#spice-simulatie" title="Link to this heading">#</a></h1>
<p>In deze cursus bestuderen we elektronische circuits. Hiervoor is het belangrijk dat we deze elektronische circuits ook in detail en correct kunnen simuleren. Hiervoor gebruiken we een implementatie van SPICE. SPICE staat voor <code class="docutils literal notranslate"><span class="pre">Simulation</span> <span class="pre">Program</span> <span class="pre">with</span> <span class="pre">Integrated</span> <span class="pre">Circuit</span> <span class="pre">Emphasis</span></code>. SPICE is in de jaren 1960 ontwikkeld door het <a class="reference external" href="https://eecs.berkeley.edu/">Department of Electrical Engineering and Computer Sciences in UC Berkeley, California, USA</a> en toen reeds vrijgegeven als een eerste soort open source avant la lettre.</p>
<p>Ondertussen zijn er al meer dan 100 verschillende implementaties van spice. <a class="reference external" href="https://www.electronics-lab.com/downloads/circutedesignsimulation/?page=5">Hier</a> vind je een overzicht van een aantal implementaties. De motor van deze implementaties is nog steeds zo goed als dezelfde van deze van de originele implementaties, namelijk de modified nodale analyse (<a class="reference external" href="https://en.wikipedia.org/wiki/Modified_nodal_analysis">MNA</a>). De verschillen tussen deze implementaties zijn in eerste instantie de user interface en de manier waarop de verschillende modellen geïmplementeerd zijn.</p>
<p>In dit jupyterbook gebruik ik <a class="reference external" href="https://pyspice.fabrice-salvaire.fr/releases/v1.5/">PySpice</a>. Dit is een python interface naar <a class="reference external" href="https://ngspice.sourceforge.io/">ngspice</a>. Als je <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">conda</a> en <a class="reference external" href="https://git-scm.com/">git</a> geïnstalleerd hebt en de github repository van <a class="reference external" href="https://github.com/jangenoe/InteractieveCursus">dit boek</a> lokaal gecloned hebt, kan je de volledige PySpice omgeving die in dit boek gebruikt wordt installeren door de volgende commandos uit te voeren in de directory van deze repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jangenoe</span><span class="o">/</span><span class="n">InteractieveCursus</span>
<span class="n">cd</span> <span class="n">InteractieveCursus</span>
<span class="n">conda</span> <span class="n">env</span> <span class="n">update</span> <span class="o">-</span><span class="n">f</span> <span class="o">./</span><span class="n">binder</span><span class="o">/</span><span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">KULeuven</span>
<span class="n">ipython</span> <span class="n">kernel</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">--</span><span class="n">name</span><span class="o">=</span><span class="n">KULeuven</span>
<span class="n">pyspice</span><span class="o">-</span><span class="n">post</span><span class="o">-</span><span class="n">installation</span> <span class="o">--</span><span class="n">install</span><span class="o">-</span><span class="n">ngspice</span><span class="o">-</span><span class="n">dll</span>
</pre></div>
</div>
<p>Vervolgens kan je aan de hand van het commando <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">lab</span></code> de verschillende notebooks openen, aanpassen en simuleren.</p>
<p>Onafhankelijk van wat de eigenlijke user interface is van de spice implementatie die je gekozen hebt, zal de user-interface normaal het ingebrachte circuit vertalen naar een of meerdere spice text files. Deze files kunnen zowel circuit componenten als spice directives bevatten. Om fouten in een circuit terug te vinden is het meestal handig deze files te analyseren en de verschillende knopen te vergelijken met de knopen op je schema.</p>
<p>Voor wat betreft de circuit componenten is het zo dat de eerste letter van de naam van de component zijn type aangeeft.
Hieronder vind je een lijstje van de passieve componenten met telkens de eerste letter die gebruikt wordt om het type aan te geven.</p>
<ul class="simple">
<li><p>Weerstand (R)</p></li>
<li><p>Capaciteit (C)</p></li>
<li><p>Spoel (L)</p></li>
<li><p>Gekoppelde spoelen (K)</p></li>
<li><p>Transmissie lijn</p>
<ul>
<li><p>zonder verliezen(T)</p></li>
<li><p>met verliezen (O,Y,P)</p></li>
<li><p>RC lijnen (U)</p></li>
</ul>
</li>
<li><p>Schakelaars</p>
<ul>
<li><p>gecontrolleerd door spanning (S)</p></li>
<li><p>gecontrolleerd door stroom (W)</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p>Diodes (D)</p></li>
<li><p>Bipolaire transistors (Q)</p></li>
<li><p>MOS transistors (M)</p></li>
<li><p>JFET (J)</p></li>
<li><p>MESFET (Z)</p></li>
<li><p>code models (A)</p></li>
<li><p>subcircuits (X)</p></li>
</ul>
<ul class="simple">
<li><p>Onafhankelijke spanningsbron (V)</p></li>
<li><p>Onafhankelijke stroombron (I)</p></li>
<li><p>Spanningsgecontrolleerde spanningsbron (E)</p></li>
<li><p>Spanningsgecontrolleerde stroombron (G)</p></li>
<li><p>Stroomgecontrolleerde spanningsbron (H)</p></li>
<li><p>Stroomgecontrolleerde stroombron (F)</p></li>
</ul>
<p>Voor elk van deze bovenstaande passieve en actieve elementen kan er een modelkaart (<code class="docutils literal notranslate"><span class="pre">.model</span></code>) opgemaakt worden waarin alle parameter variaties uitgewerkt worden. Een modelkaart behoort to de directives en begint daarom met een <code class="docutils literal notranslate"><span class="pre">.</span></code>. Ook voor elk van de verschillende analyses is er een kaart ter beschikking. Hieronder een overzichtje van de verschillende analyses.</p>
<ul class="simple">
<li><p>Operating point analyse (.op)</p></li>
<li><p>Niet-lineare DC analyse  (.dc)</p></li>
<li><p>Niet-lineare transient analyse (.tran)</p></li>
<li><p>Lineare klein signaal AC Analyse (.ac)</p></li>
<li><p>Pool en zero analyse (.pz)</p></li>
<li><p>Noise analyse (.noise)</p></li>
<li><p>Sensitiviteit analyse (.sens)</p></li>
<li><p>Klein signaal distortie analysis (.disto)</p></li>
<li><p>Monte-Carlo analyse</p></li>
</ul>
<p>De eenheden die in spice gebruikt worden komen overeen met de standaard eenheden en er worden ook de standard prefactors gebruikt zodat er geen nood is aan de wetenschappelijke notatie. Spice maakt wel geen onderscheid tussen hoofd en kleine letters, wat een probleem kan geven om het verschil aan te geven tussen milli en mega. Daarom is er gekozen voor de <code class="docutils literal notranslate"><span class="pre">x</span></code> of de <code class="docutils literal notranslate"><span class="pre">meg</span></code>.</p>
<ul class="simple">
<li><p>atto (a)  10<sup>-18</sup></p></li>
<li><p>femto (f)  10<sup>-15</sup></p></li>
<li><p>pico (p)  10<sup>-12</sup></p></li>
<li><p>nano (n)  10<sup>-9</sup></p></li>
<li><p>micro (u)  10<sup>-6</sup></p></li>
<li><p>milli (m)  10<sup>-3</sup></p></li>
<li><p>kilo (k)  10<sup>3</sup></p></li>
<li><p>mega (x) of (meg)  10<sup>6</sup></p></li>
<li><p>giga (g)  10<sup>9</sup></p></li>
</ul>
<p>Om aan te geven hoe we gebruik maken van spice voor de circuit simulatie, kijken we naar een voorbeeld van een verschilversterker op IC. Het basisschema van deze versterker is aangegeven in <a class="reference internal" href="#spicefig1"><span class="std std-numref">Fig. 1</span></a>. Het eerste wat we moeten doen in dit circuit is de verschillende knopen een nummer (of een naam) te geven. Het resultaat waarbij elke knoop een naam gekregen heeft zien we in <a class="reference internal" href="#spicefig1b"><span class="std std-numref">Fig. 2</span></a>.</p>
<div class="cell docutils container">
<div class="cell_output docutils container">
<figure class="align-default" id="spicefig1">
<img alt="_images/e1c840baf1ddadde6629dcb0bdad4b0dbd8834cc603419645497e9185258d3bd.svg" src="_images/e1c840baf1ddadde6629dcb0bdad4b0dbd8834cc603419645497e9185258d3bd.svg" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">Basisschema van de verschilversterker.</span><a class="headerlink" href="#spicefig1" title="Link to this image">#</a></p>
</figcaption>
</figure>
</div>
</div>
<div class="cell docutils container">
<div class="cell_output docutils container">
<figure class="align-default" id="spicefig1b">
<img alt="_images/5c48340c9bc2be4b754a8b59862409678253e3d4d2dded2e77748716b2b80e03.svg" src="_images/5c48340c9bc2be4b754a8b59862409678253e3d4d2dded2e77748716b2b80e03.svg" />
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">Basisschema van de verschilversterker, waarbij de knopen genummerd zijn.</span><a class="headerlink" href="#spicefig1b" title="Link to this image">#</a></p>
</figcaption>
</figure>
</div>
</div>
<p>De overeenkomende SPICE code voor dit circuit zie je in <a class="reference internal" href="#spiceverschilversterker1"><span class="std std-numref">Spice Listing 1</span></a>. Het eerste deel van deel beschrijving beschrijft de externe aangelegde spanningsbronnen. De naam van elke spanningsbron in SPICE begint met een V. We hebben de voedingsspanning (VDD) van 5 Volt tussen knoop 1 en knoop 0, de spanningsbronnen aan de positieve (10) en de negatieve (11) ingangsklem en tenslotte een biasspanning (VB) aan klem 9.</p>
<div class="literal-block-wrapper docutils container" id="spiceverschilversterker1">
<div class="code-block-caption"><span class="caption-number">Spice Listing 1 </span><span class="caption-text">basiscircuit van de verschilversterker</span><a class="headerlink" href="#spiceverschilversterker1" title="Link to this code">#</a></div>
<div class="highlight-spice notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="w"> </span><span class="nx">CIRCUIT</span><span class="w"> </span><span class="nx">Spice</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="nx">van</span><span class="w"> </span><span class="nx">een</span><span class="w"> </span><span class="nx">verschilversterker</span>
<span class="nx">VDD</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">DC</span><span class="p">=</span><span class="m m-Double">5.0</span>
<span class="nx">VPLUS</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">DC</span><span class="p">=</span><span class="m m-Double">2.5</span>
<span class="nx">VMIN</span><span class="w">  </span><span class="mi">11</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">SIN</span><span class="p">(</span><span class="m m-Double">2.5</span><span class="w"> </span><span class="mi">50</span><span class="nx">U</span><span class="w"> </span><span class="mi">1</span><span class="nx">E6</span><span class="p">)</span><span class="w"> </span><span class="nx">DC</span><span class="p">=</span><span class="m m-Double">2.5</span>
<span class="nx">VB</span><span class="w">    </span><span class="mi">9</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">DC</span><span class="p">=</span><span class="m m-Double">1.5</span>
<span class="nx">C3</span><span class="w">     </span><span class="mi">3</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="m m-Double">5.914</span><span class="nx">fF</span>
<span class="nx">C4</span><span class="w">     </span><span class="mi">4</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="m m-Double">14.737</span><span class="nx">fF</span>
<span class="nx">C5</span><span class="w">     </span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="m m-Double">10.124</span><span class="nx">fF</span>
<span class="nx">C6</span><span class="w">     </span><span class="mi">6</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="m m-Double">14.434</span><span class="nx">fF</span>
<span class="nx">C8</span><span class="w">     </span><span class="mi">8</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="m m-Double">7.919</span><span class="nx">fF</span>
<span class="nx">C9</span><span class="w">     </span><span class="mi">9</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="m m-Double">15.257</span><span class="nx">fF</span>
<span class="nx">C10</span><span class="w">   </span><span class="mi">10</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="m m-Double">1.872</span><span class="nx">fF</span>
<span class="nx">C11</span><span class="w">   </span><span class="mi">11</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="m m-Double">1.688</span><span class="nx">fF</span>
<span class="nx">C25</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="mi">5</span><span class="w">  </span><span class="mi">1</span><span class="nx">fF</span>
<span class="nx">MN1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">u</span><span class="w"> </span>
<span class="nx">MN2</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">u</span>
<span class="nx">MN3</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MN4</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">4.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MN5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span><span class="w"> </span>
<span class="nx">MP1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MP2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MP3</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MP4</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="p">.</span><span class="nx">MODEL</span><span class="w"> </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">NMOS</span><span class="p">(</span><span class="nx">LEVEL</span><span class="p">=</span><span class="mi">1</span><span class="w"> </span><span class="nx">VTO</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="w"> </span><span class="nx">KP</span><span class="p">=</span><span class="m m-Double">90.000E-6</span><span class="w"> </span><span class="nx">LAMBDA</span><span class="p">=</span><span class="m m-Double">0.001</span><span class="p">)</span>
<span class="p">.</span><span class="nx">MODEL</span><span class="w"> </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">PMOS</span><span class="p">(</span><span class="nx">LEVEL</span><span class="p">=</span><span class="mi">1</span><span class="w"> </span><span class="nx">VTO</span><span class="p">=</span><span class="m m-Double">-0.45</span><span class="w"> </span><span class="nx">KP</span><span class="p">=</span><span class="m m-Double">55.000E-6</span><span class="w"> </span><span class="nx">LAMBDA</span><span class="p">=</span><span class="m m-Double">0.001</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Vervolgens vinden we in de SPICE listing de capaciteiten (C) van alle knopen ten opzichte van de grondknoop (0) terug.
De waarde van deze condensatoren is bekomen nadat de volledige lay-out van het chipontwerp is getekend. Daarna is er door een extractfunctie de overlap van de metalisatie van elk van deze knopen met het grondvlak bepaald, en op basis hiervan is de condensatorwaarde bepaald.
We vinden ook een parasitaire condensator terug ten opzichte van de voeding, i.e. C25 die staat tussen knoop 5 en de voeding.
Eigenlijk zijn deze condensatorwaardes voor een eerste simulatie van de versterking niet belangrijk. Deze waardes worden enkel belangrijk als je een exacte waarde wil uitrekenen tijdens een simulatie bij hogere frequenties.</p>
<div class="exercise dropdown admonition" id="Spice-simulatie-exercise-0">

<p class="admonition-title"><span class="caption-number">Opdracht 1 </span> (Begrijp de parasitaire capaciteiten van dit ontwerp)</p>
<section id="exercise-content">
<p>In de spice code <a class="reference internal" href="#spiceverschilversterker1"><span class="std std-numref">Spice Listing 1</span></a> werden de parasitaire capaciteiten ge-extraheerd op basis van een werkelijke lay-out van het circuit. Voeg alle capaciteiten toe op het schema van <a class="reference internal" href="#spicefig1b"><span class="std std-numref">Fig. 2</span></a></p>
</section>
</div>
<p>Vervolgens hebben we de nMOS transistors van dit circuit. Deze zijn:</p>
<div class="literal-block-wrapper docutils container" id="spiceverschilversterker2">
<div class="code-block-caption"><span class="caption-number">Spice Listing 2 </span><span class="caption-text">nMOS transistors van de verschilversterker</span><a class="headerlink" href="#spiceverschilversterker2" title="Link to this code">#</a></div>
<div class="highlight-spice notranslate"><div class="highlight"><pre><span></span><span class="nx">MN1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">u</span><span class="w"> </span>
<span class="nx">MN2</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">u</span>
<span class="nx">MN3</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MN4</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">4.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MN5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">1.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span><span class="w"> </span>
</pre></div>
</div>
</div>
<p>We kunnen deze nMOS transistors op het schema lokaliseren (zie <a class="reference internal" href="#spicefig1c"><span class="std std-numref">Fig. 3</span></a>).</p>
<div class="cell docutils container">
<div class="cell_output docutils container">
<figure class="align-default" id="spicefig1c">
<img alt="_images/bb01e0a1262299a7057604aea77fa4e15a32d5a0ac6da330b10f5ed2701e7a14.svg" src="_images/bb01e0a1262299a7057604aea77fa4e15a32d5a0ac6da330b10f5ed2701e7a14.svg" />
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">nMOS transistors van de verschilversterker</span><a class="headerlink" href="#spicefig1c" title="Link to this image">#</a></p>
</figcaption>
</figure>
</div>
</div>
<p>Daarna volgen de pMOS transistors van dit circuit. Deze zijn:</p>
<div class="literal-block-wrapper docutils container" id="spiceverschilversterker3">
<div class="code-block-caption"><span class="caption-number">Spice Listing 3 </span><span class="caption-text">pMOS transistors van de verschilversterker</span><a class="headerlink" href="#spiceverschilversterker3" title="Link to this code">#</a></div>
<div class="highlight-spice notranslate"><div class="highlight"><pre><span></span><span class="nx">MP1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MP2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MP3</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
<span class="nx">MP4</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">w</span><span class="p">=</span><span class="m m-Double">3.50</span><span class="nx">u</span><span class="w"> </span><span class="nx">L</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="nx">U</span>
</pre></div>
</div>
</div>
<p>Ook deze transistor kunnen we op het schema lokaliseren (zie <a class="reference internal" href="#spicefig1d"><span class="std std-numref">Fig. 4</span></a>). We herkennen hierin 2 stroomspiegels die de stromen uit de knopen 6 en 4 respectievelijk omzetten in stromen uit de knopen 5 en 3.</p>
<div class="cell docutils container">
<div class="cell_output docutils container">
<figure class="align-default" id="spicefig1d">
<img alt="_images/669732983c9f45d3df93dce13c914bbcd5c5c1ae22aac793d9cdbeef0df5ec09.svg" src="_images/669732983c9f45d3df93dce13c914bbcd5c5c1ae22aac793d9cdbeef0df5ec09.svg" />
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">pMOS transistors van de verschilversterker</span><a class="headerlink" href="#spicefig1d" title="Link to this image">#</a></p>
</figcaption>
</figure>
</div>
</div>
<p>Tenslotte hebben we ook de transistormodellen nodig van de <code class="docutils literal notranslate"><span class="pre">NMOS</span></code> en de <code class="docutils literal notranslate"><span class="pre">PMOS</span></code>. Deze kan je zien in de model kaarten gegeven in <a class="reference internal" href="#spiceverschilversterker4"><span class="std std-numref">Spice Listing 4</span></a>. De modellen behoren to de <code class="docutils literal notranslate"><span class="pre">Spice</span> <span class="pre">directives</span></code> en alle directives beginnen ze een <code class="docutils literal notranslate"><span class="pre">.</span></code>. Hier kiezen we voor het meest eenvoudige level=1 model. Om moderne transistors op een accurate wijze te kunnen simuleren worden er veel complexere modellen (bv <a class="reference external" href="https://en.wikipedia.org/wiki/BSIM">BSIM4</a> models) gebruikt.</p>
<div class="literal-block-wrapper docutils container" id="spiceverschilversterker4">
<div class="code-block-caption"><span class="caption-number">Spice Listing 4 </span><span class="caption-text">Eenvoudige transistormodellen</span><a class="headerlink" href="#spiceverschilversterker4" title="Link to this code">#</a></div>
<div class="highlight-spice notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nx">MODEL</span><span class="w"> </span><span class="nx">NMOS</span><span class="w"> </span><span class="nx">NMOS</span><span class="p">(</span><span class="nx">LEVEL</span><span class="p">=</span><span class="mi">1</span><span class="w"> </span><span class="nx">VTO</span><span class="p">=</span><span class="m m-Double">0.50</span><span class="w"> </span><span class="nx">KP</span><span class="p">=</span><span class="m m-Double">90.000E-6</span><span class="w"> </span><span class="nx">LAMBDA</span><span class="p">=</span><span class="m m-Double">0.001</span><span class="p">)</span>
<span class="p">.</span><span class="nx">MODEL</span><span class="w"> </span><span class="nx">PMOS</span><span class="w"> </span><span class="nx">PMOS</span><span class="p">(</span><span class="nx">LEVEL</span><span class="p">=</span><span class="mi">1</span><span class="w"> </span><span class="nx">VTO</span><span class="p">=</span><span class="m m-Double">-0.45</span><span class="w"> </span><span class="nx">KP</span><span class="p">=</span><span class="m m-Double">55.000E-6</span><span class="w"> </span><span class="nx">LAMBDA</span><span class="p">=</span><span class="m m-Double">0.001</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Wanneer we nu een simulatie uitvoeren met een signaal van 50 <span class="math notranslate nohighlight">\(\mu V\)</span> aan de ingangsklem 11, krijgen we een signaal van meer dan 40 <span class="math notranslate nohighlight">\(mV\)</span> aan de uitgangsklem 3 (zie <a class="reference internal" href="#spicefig5"><span class="std std-numref">Fig. 5</span></a>). Dit geeft dus een versterking van meer dan 800.</p>
<div class="cell docutils container">
<div class="cell_output docutils container">
<figure class="align-default" id="spicefig5">
<img alt="_images/dd55f0ff1653d9bd8fb0c07752d69738f4585c07952c90d2eb2db7cfd306ec87.png" src="_images/dd55f0ff1653d9bd8fb0c07752d69738f4585c07952c90d2eb2db7cfd306ec87.png" />
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">Bekomen spanningen aan de ingang (boven) en de uitgang (onder) van de verschilversterker.</span><a class="headerlink" href="#spicefig5" title="Link to this image">#</a></p>
</figcaption>
</figure>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "kuleuven"
        },
        kernelOptions: {
            name: "kuleuven",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'kuleuven'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">vorige</p>
        <p class="prev-next-title">Toegepaste Analoge Elektronica</p>
      </div>
    </a>
    <a class="right-next"
       href="Klasse-C.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">volgende</p>
        <p class="prev-next-title">Klasse C  Versterkers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jan Genoe (jan.genoe@kuleuven.be)
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>